(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{134:function(e,t,a){},17:function(e,t,a){"use strict";(function(e){var n=a(188),c=a.n(n),r=a(189),o=a.n(r),s=c()(o.a,e.Promise),i="http://127.0.0.1:8002",l=i,d=function(e){return e.body},u=localStorage.getItem("token");console.log(u);var j=function(e){console.log("safsf",e,localStorage.getItem("token")),u&&(e.set("authorization","Token ".concat(localStorage.getItem("token"))),console.log(e))},b=function(e){return s.del("".concat(l).concat(e)).use(j).then(d)},m=function(e){return s.get("".concat(l).concat(e)).use(j).then(d).catch()},h=function(e,t){return s.put("".concat(l).concat(e),t).use(j).then(d)},p=function(e,t){return s.post("".concat(l).concat(e),t).use(j).then(d)},x={get_cutomers:function(){return m("/client/customers/")},update_cutomers:function(e){return h("/client/customers/",{data:e})},delete_cutomers:function(e){return b("/client/customers/",{data:e})},get_transaction:function(){return m("/transaction/transactiondetail/")},make_transaction:function(e){return p("/transaction/transactiondetail/",{data:e})},get_devices:function(){return m("/devices/devices/")},create_device:function(e){return p("/devices/devices/",{data:e})},deactivate_device:function(e){return h("/devices/devices/",{data:e})},create_device_key:function(e){return p("/devices/devicekey/",{data:e})},redeem_giftcard:function(e){return p("/transaction/giftcardredeem/",{data:e})},add_giftcard:function(e){return p("/transaction/giftcard/",{data:e})},get_giftcard:function(){return m("/transaction/giftcard/")},get_balance:function(e){return p("/transaction/getbalance/",{data:e})},generate_card:function(e){return p("/transaction/generatecard/",{data:e})},generate_otp:function(){return m("/client/verifyotp/")},transfer_money:function(e){return p("/transaction/transfermoney/",{data:e})},get_cards:function(e){return p("/transaction/getcards/",{data:e})},login_using_token:function(e){return p("/api-token-auth/",{data:e})},get_owners:function(){return m("/client/owners/")},get_balance1:function(e,t){return m("/transaction/getbalance/?page_size=".concat(t),{data:e})}};t.a={DigitalWallet:x,API_ROOT:l,API_ROOT_LOCAL:i,setToken:function(e){u=e,console.log(u,"wdafae")}}}).call(this,a(47))},220:function(e,t,a){},247:function(e,t){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(19),o=a.n(r),s=(a(220),a(186)),i=a(187),l=a(202),d=a(200),u=a(49),j=a(23),b=a(8),m=a(74),h=a(364),p=a(365),x=a(366),O=a(367),g=a(404),f=a(400),v=a(372),y=a(373),C=a(392),_=a(68),S=a.n(_),k=a(38),N=a.n(k),w=a(9),W=(a(160),a(17)),F=a(2);function D(){return Object(F.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(F.jsx)(h.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var T=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function I(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],c=t[1],r=T();return a?(console.log(a),Object(F.jsx)(j.a,{to:"/dashboard"})):Object(F.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)("div",{className:r.paper,children:[Object(F.jsx)(g.a,{className:r.avatar,children:Object(F.jsx)(S.a,{})}),Object(F.jsx)(m.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(F.jsxs)("form",{className:r.form,noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData(e.target);N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.xsrfHeaderName="X-CSRFToken",N.a.post(W.a.API_ROOT_LOCAL+"/client/login/",t).then((function(e){console.log(e),console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("is_admin",e.data.is_admin),localStorage.setItem("user_type",e.data.user_type),c(!0)}),(function(e){console.log("Error",e.response.data,e.response.data.error),w.b.error(e.response.data.error)}))}(e)},children:[Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(F.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Sign In"}),Object(F.jsx)(y.a,{container:!0,children:Object(F.jsx)(y.a,{item:!0,children:Object(F.jsx)(h.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(F.jsx)(w.a,{}),Object(F.jsx)(C.a,{mt:8,children:Object(F.jsx)(D,{})})]})}var L=a(370),A=a(333),P=a(402),E=a(376),R=a(396),B=a(374),U=a(375);function q(){return Object(F.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(F.jsx)(h.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var G=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function M(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],o=c.a.useState("customer"),s=Object(b.a)(o,2),i=s[0],l=s[1],d=G();if(a)return console.log(a),Object(F.jsx)(j.a,{to:"/verifyotp"});return Object(F.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)("div",{className:d.paper,children:[Object(F.jsx)(g.a,{className:d.avatar,children:Object(F.jsx)(S.a,{})}),Object(F.jsx)(m.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(F.jsxs)("form",{className:d.form,noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData;t.append("email",e.target.email.value),t.append("first_name",e.target.firstname.value),t.append("last_name",e.target.lastname.value),t.append("password",e.target.password.value),t.append("password2",e.target.password2.value),t.append("is_admin","admin"===e.target.usertype.value?"True":"False"),t.append("is_customer","customer"===e.target.usertype.value?"True":"False"),t.append("is_owner","retailer"===e.target.usertype.value?"True":"False"),console.log(t),N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.xsrfHeaderName="X-CSRFToken",N.a.post(W.a.API_ROOT_LOCAL+"/client/register/",t).then((function(e){console.log(e),console.log(e.data,"REGISTERR"),localStorage.setItem("token",e.data.token),localStorage.setItem("token",e.data.token),localStorage.setItem("is_admin",e.data.is_admin),localStorage.setItem("user_type",e.data.user_type),r(!0)}),(function(e){console.log("Error",e.response.data,e.response.data.email),console.log("email"in e.response.data),"email"in e.response.data?w.b.error("Email: "+e.response.data.email[0]):"password"in e.response.data&&w.b.error("Password: "+e.response.data.password[0])}))}(e)},children:[console.log(document.cookie),Object(F.jsxs)(B.a,{children:[Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstname",label:"Firstname",name:"firstname",autoComplete:"firstname",autoFocus:!0})}),Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastname",label:"Lastname",name:"lastname",autoComplete:"lastname",autoFocus:!0})})]}),Object(F.jsx)(B.a,{children:Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0})})}),Object(F.jsxs)(B.a,{children:[Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})}),Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password"})})]}),Object(F.jsxs)(L.a,{children:[Object(F.jsx)(A.a,{component:"legend",children:"User Type"}),Object(F.jsx)(B.a,{children:Object(F.jsxs)(P.a,{"aria-label":"usertype",name:"usertype",value:i,onChange:function(e){l(e.target.value)},row:!0,children:[Object(F.jsxs)(U.a,{children:[" ",Object(F.jsx)(E.a,{value:"customer",control:Object(F.jsx)(R.a,{}),label:"customer"})," "]}),Object(F.jsxs)(U.a,{children:["  ",Object(F.jsx)(E.a,{value:"retailer",control:Object(F.jsx)(R.a,{}),label:"retailer"})," "]})]})})]}),Object(F.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:d.submit,children:"Sign Up"}),Object(F.jsx)(y.a,{container:!0,children:Object(F.jsx)(y.a,{item:!0,children:Object(F.jsx)(h.a,{href:"/",variant:"body2",children:"Already a member? Log in"})})})]})]}),Object(F.jsx)(w.a,{}),Object(F.jsx)(C.a,{mt:8,children:Object(F.jsx)(q,{})})]})}function Y(){return Object(F.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(F.jsx)(h.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var V=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function z(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),o=Object(b.a)(r,2),s=o[0],i=o[1],l=V();return Object(n.useEffect)((function(){setTimeout((function(){i(!1)}),3e3)}),[]),a?(console.log(a),w.b.success("Otp Verified Successfully"),Object(F.jsx)(j.a,{to:"/dashboard"})):Object(F.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)("div",{className:l.paper,children:[Object(F.jsx)(g.a,{className:l.avatar,children:Object(F.jsx)(S.a,{})}),Object(F.jsx)(m.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(F.jsxs)("form",{className:l.form,noValidate:!0,onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData(e.target);console.log("heyyyyy",t,document.cookie);var a={headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}};N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.xsrfHeaderName="X-CSRFToken",N.a.post(W.a.API_ROOT_LOCAL+"/client/verifyotp/",t,a).then((function(e){console.log(e),console.log(e.data),c(!0)}),(function(e){w.b.error("Incorrect OTP")}))}(e)},children:[Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",autoComplete:"otp",autoFocus:!0}),Object(F.jsxs)(B.a,{children:[Object(F.jsx)(U.a,{children:Object(F.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,children:"Verify"})}),Object(F.jsx)(U.a,{children:Object(F.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:s,className:l.submit,onClick:function(){console.log("otpppp"),W.a.DigitalWallet.generate_otp().then((function(e){console.log(e),e&&w.b.info(e.msg)})).catch((function(e){w.b.error("Something went Wrong!!")}))},children:"Resend"})})]}),Object(F.jsx)(y.a,{container:!0,children:Object(F.jsx)(y.a,{item:!0,children:Object(F.jsx)(h.a,{href:"/",variant:"body2",children:"Return to Log In"})})})]})]}),Object(F.jsx)(w.a,{}),Object(F.jsx)(C.a,{mt:8,children:Object(F.jsx)(Y,{})})]})}var H=a(29),X=a(71),J=a(382),K=a(394),$=a(383),Q=a(44),Z=a.n(Q),ee=(a(80),a(81),a(134),a(403)),te=a(397),ae=a(398),ne=a(380),ce=a(70),re=a(395),oe=a(381),se=a(334),ie=a(371),le=a(401),de=a(393),ue=(a(201),a(114),function(e){return Array.isArray(e)&&!!e.length}),je=function(e){var t;t=0===e.indexOf("#")?e.substring(1):e;var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,n){return t+t+a+a+n+n})));return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:null},be=["#2c7be5","#00d97e","#e63757","#39afd1","#fd7e14","#02a8b5","#727cf5","#6b5eae","#ff679b","#f6c343"];be.map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be[0];return"rgb(".concat(je(e),")")}(e)})),be.map((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return"rgba(".concat(je(e),",").concat(t,")")}(e)}));var me=a(113),he=(a(194),a(378)),pe=a(379),xe=a(41),Oe=a(20),ge=a.n(Oe),fe=["justify","align","inline","column","wrap","className","tag","children"],ve=function(e){var t,a=e.justify,n=e.align,c=e.inline,r=e.column,o=e.wrap,s=e.className,i=e.tag,l=e.children,d=Object(X.a)(e,fe);return Object(F.jsx)(i,Object(H.a)(Object(H.a)({className:ge()((t={"d-flex":!c,"d-inline-flex":c},Object(xe.a)(t,"justify-content-".concat(a),a),Object(xe.a)(t,"align-items-".concat(n),n),Object(xe.a)(t,"flex-column",r),Object(xe.a)(t,"flex-wrap",o),t),s)},d),{},{children:l}))};ve.defaultProps={tag:"div",column:!1,inline:!1,wrap:!1};var ye=ve,Ce=function(e){var t=e.status,a=e.component;console.log(t,a);var n="",c="";switch(t){case!0:n="success",c="Active";break;default:n="secondary",c="In Active"}return Object(F.jsx)("div",{children:"timeline"===a?Object(F.jsx)(he.a,{className:"border-bottom p-3 bg-soft-".concat(n),children:Object(F.jsxs)(ye,{justify:"between",className:"font-weight-bold fs--1",children:[Object(F.jsx)("div",{className:"text-".concat(n),children:c}),Object(F.jsx)("div",{className:"text-".concat(n)})]})}):"device"===a?Object(F.jsxs)(pe.a,{color:n,className:"rounded-capsule",children:[Object(F.jsx)(F.Fragment,{}),"\xa0\xa0",c]}):Object(F.jsx)(pe.a,{color:n,className:"rounded-capsule",children:c})})},_e=a(195),Se=a.n(_e),ke=a(140),Ne=a.n(ke),we=Object(p.a)((function(e){return{root:{maxWidth:"90%"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},tab:{tableLayout:"auto !important"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]},buttonroot:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2,4,3)},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",bottom:"50%",width:"50%",height:"50%"}}})),We=function(e){var t=c.a.useState([]),a=Object(b.a)(t,2),r=a[0],o=a[1],s=c.a.useState(""),i=Object(b.a)(s,2),l=i[0],d=i[1],u=c.a.useState([]),j=Object(b.a)(u,2),m=j[0],h=j[1],p=c.a.useState(""),x=Object(b.a)(p,2),O=x[0],g=x[1],y=c.a.useState([]),C=Object(b.a)(y,2),_=C[0],S=C[1],k=c.a.useState(!1),N=Object(b.a)(k,2),D=N[0],T=N[1],I=c.a.useState(!1),A=Object(b.a)(I,2),P=A[0],E=A[1],R=c.a.useState(!1),q=Object(b.a)(R,2),G=q[0],M=q[1],Y=c.a.useState(0),V=Object(b.a)(Y,2),z=V[0],X=V[1],J=c.a.useState(null),K=Object(b.a)(J,2),$=K[0],Q=K[1];Object(n.useEffect)((function(){o(e.customerList)}),[e.customerList]),Object(n.useEffect)((function(){D&&(W.a.DigitalWallet.get_cards({action:"get_users_cards",userid:65}).then((function(e){e&&e.data&&h(e.data.data)})).catch((function(e){})),W.a.DigitalWallet.get_cards({action:"get_users_cards_by_id",userid:$}).then((function(e){e&&e.data&&S(e.data.data)})).catch((function(e){403===e.status||405===e.status?w.b.error("Permission Denied"):w.b.error("Something Went Wrong")})))}),[D,$]);var je=function(){T(!1)};var be=ke.Search.SearchBar,me=[{dataField:"first_name",text:"First Name",classes:"tr-row"},{dataField:"last_name",text:"Last name",classes:"tr-row"},{dataField:"email",text:"Email",classes:"py-2 text-10 text-center align-middle tr-row",headerClasses:"text-10 text-primary text-center"},{dataField:"is_active",text:"Status",classes:"py-2 text-10 text-center align-middle tr-row",formatter:function(e,t){var a=t.is_active;return Object(F.jsx)(Ce,{status:a,component:"device"})}},{dataField:"",text:"Action",classes:"border-left text-center align-middle",headerClasses:"text-10 text-primary text-center",formatter:function(t,a,n){n.id,n.email;return Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{color:"link",size:"sm",className:"text-600 btn-reveal",children:Object(F.jsx)(ce.a,{})}),Object(F.jsxs)(ae.a,{right:!0,className:"border p-0",children:[Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){var e;console.log("hiu"),e=a.id,Q(e),T(!0),console.log(e,"userid")},children:"AddMoney"}),a.is_active?Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){var t;console.log("hiu",a.id),(t=a.id)&&W.a.DigitalWallet.update_cutomers({id:t}).then((function(t){console.log(t.data),e.setUpdate(!0)}))},children:"Deactivate"}):Object(F.jsx)(F.Fragment,{})]})]})},csvExport:!1}],he=we();return Object(F.jsxs)(c.a.Fragment,{children:[Object(F.jsxs)("div",{style:{padding:"20px;"},className:"col-sm-12",children:[Object(F.jsx)("h1",{className:"h2",children:"Customers"}),Object(F.jsx)("div",{children:Object(F.jsx)(Ne.a,{keyField:"id",data:r,columns:me,search:{searchFormatted:!0},children:function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{style:{float:"right"},children:Object(F.jsx)(be,Object(H.a)({},e.searchProps))}),Object(F.jsx)("hr",{}),Object(F.jsx)(Z.a,Object(H.a)(Object(H.a)({},e.baseProps),{},{striped:!0,hover:!0,bootstrap4:!0,condensed:!0,wrapperClasses:"table-responsive",classes:he.tab,headerClasses:"bg-200 text-900 border-y border-200",pagination:Se()()}))]})}})})]}),Object(F.jsx)(re.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:he.modal,open:D,onClose:je,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500},children:Object(F.jsx)(se.a,{in:D,children:Object(F.jsxs)("div",{className:he.paper,style:{display:"inline-table"},children:[Object(F.jsx)("h2",{id:"transition-modal-title",children:"Transfer Money to Customer"}),Object(F.jsx)("br",{}),Object(F.jsxs)(B.a,{children:[Object(F.jsx)(U.a,{children:Object(F.jsxs)(L.a,{className:he.formControl,style:{width:"50%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label1",children:"Select Your Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label1",id:"demo-controlled-open-select1",open:G,onClose:function(){M(!1)},onOpen:function(){M(!0)},value:l,onChange:function(e){d(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Gift Card",children:Object(F.jsx)("em",{children:"None"})}),ue(m)&&m.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})}),Object(F.jsx)(U.a,{children:Object(F.jsxs)(L.a,{className:he.formControl,style:{width:"50%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label2",children:"To Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label2",id:"demo-controlled-open-select2",open:P,onClose:function(){E(!1)},onOpen:function(){E(!0)},value:O,onChange:function(e){g(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Gift Card",children:Object(F.jsx)("em",{children:"None"})}),console.log(_),ue(_)&&_.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})})]}),Object(F.jsx)("br",{}),Object(F.jsxs)(B.a,{style:{alignItems:"center"},children:[Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Amount",id:"amount",autoComplete:"amount",value:z,onChange:function(e){X(e.target.value)}})}),Object(F.jsx)(U.a,{children:Object(F.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){if(l&&O){var e={action:"from_customer",from_card_id:l.id,to_card_id:O.id,amount_to_be_transferred:z};console.log(e),W.a.DigitalWallet.transfer_money(e).then((function(e){e&&e.data&&"Success"===e.data.msg?(console.log(e),w.b.success("Money added Succesfully"),je()):w.b.error(e.data.msg)})).catch((function(e){w.b.error("Permission Denied")}))}else w.b.error("Please Select Card")},children:"Transfer"})})]})]})})})]})},Fe=function(e){var t=c.a.useState([]),a=Object(b.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){o(e.customerList)}),[e.customerList]);var s=[{dataField:"first_name",text:"First Name"},{dataField:"last_name",text:"Last name"},{dataField:"email",text:"Email",classes:"py-2 text-10 text-center align-middle",headerClasses:"text-10 text-primary text-center"},{dataField:"is_active",text:"Status",formatter:function(e,t){var a=t.is_active;return Object(F.jsx)(Ce,{status:a,component:"device"})}},{dataField:"",text:"Action",classes:"border-left text-center align-middle",headerClasses:"text-10 text-primary text-center",formatter:function(t,a,n){n.id,n.email;return Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{color:"link",size:"sm",className:"text-600 btn-reveal",disabled:"false"===a.is_active,children:Object(F.jsx)(ce.a,{})}),Object(F.jsx)(ae.a,{right:!0,className:"border p-0",children:a.is_active?Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){var t;console.log("hiu",a.id),t=a.id,console.log("deactivatee",t),t&&W.a.DigitalWallet.update_cutomers({id:t}).then((function(t){console.log(t.data),e.setUpdate(!0)}))},children:"Deactivate"}):Object(F.jsx)(F.Fragment,{})})]})},csvExport:!1}],i=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},tab:{tableLayout:"auto !important"}}}))();return Object(F.jsx)(c.a.Fragment,{children:Object(F.jsxs)("div",{style:{padding:"20px;"},className:"col-sm-12",children:[Object(F.jsx)("h1",{className:"h2",children:"Retailers"}),Object(F.jsx)("div",{children:Object(F.jsx)(Z.a,{keyField:"id",data:r,columns:s,striped:!0,hover:!0,bootstrap4:!0,condensed:!0,classes:i.tab,headerClasses:"bg-200 text-900 border-y border-200"})})]})})},De=["children","value","index"];function Te(e){var t=e.children,a=e.value,n=e.index,c=Object(X.a)(e,De);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:a===n&&Object(F.jsx)(C.a,{p:3,children:Object(F.jsx)(m.a,{children:t})})}))}function Ie(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Le=Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function Ae(){var e=Le(),t=c.a.useState(0),a=Object(b.a)(t,2),r=a[0],o=a[1],s=c.a.useState([]),i=Object(b.a)(s,2),l=i[0],d=i[1],u=c.a.useState([]),j=Object(b.a)(u,2),m=j[0],h=j[1],p=c.a.useState(!1),x=Object(b.a)(p,2),O=x[0],g=x[1];return Object(n.useEffect)((function(){W.a.DigitalWallet.get_cutomers().then((function(e){e&&e.data&&d(e.data)})).catch((function(e){405!==e.status&&403!==e.status||w.b.error("Permission Denied to Access Customers")})),W.a.DigitalWallet.get_owners().then((function(e){e&&e.data&&h(e.data)})).catch((function(e){405!==e.status&&403!==e.status||w.b.error("Permission Denied to access Reatilers")}))}),[O]),Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)(J.a,{position:"static",children:Object(F.jsxs)(K.a,{value:r,onChange:function(e,t){o(t)},"aria-label":"simple tabs example",children:[Object(F.jsx)($.a,Object(H.a)({label:"Customers"},Ie(0))),Object(F.jsx)($.a,Object(H.a)({label:"Retailers"},Ie(1)))]})}),Object(F.jsx)(Te,{value:r,index:0,children:l&&Object(F.jsx)(We,{customerList:l,setUpdate:g})}),Object(F.jsx)(Te,{value:r,index:1,children:m&&Object(F.jsx)(Fe,{customerList:m,setUpdate:g})})]})}var Pe=a(384),Ee=a(377),Re=a(198),Be=a.n(Re),Ue=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function qe(){var e=Ue();console.log(window.location.href);var t=Object(j.g)();return Object(F.jsx)("div",{className:e.root,children:Object(F.jsx)(J.a,{position:"static",children:Object(F.jsxs)(Pe.a,{children:[Object(F.jsx)(Ee.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(F.jsx)(Be.a,{})}),Object(F.jsx)(m.a,{variant:"h6",className:e.title,children:"Digital Wallet"}),Object(F.jsx)("div",{children:"http://localhost:3000/dashboard"===window.location.href?Object(F.jsx)(v.a,{color:"inherit",onClick:function(){return t.push("/verifyotp")},children:"Verify"}):Object(F.jsx)(u.a,{id:"1",href:"#",className:"btn btn-primary",children:"Help"})})]})})})}var Ge=a(6),Me=a(385),Ye=a(386),Ve=a(389),ze=a(387),He=a(388),Xe=a(111),Je=a.n(Xe),Ke=Object(p.a)((function(e){return{root:{maxWidth:"90%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]}}}));function $e(e){var t=Ke(),a=c.a.useState(!1),r=Object(b.a)(a,2),o=r[0],s=r[1],i=c.a.useState([]),l=Object(b.a)(i,2),d=l[0],u=l[1];Object(n.useEffect)((function(){console.log(e.balance),u(e.balance)}),[e.balance]);return Object(F.jsx)(c.a.Fragment,{children:Object(F.jsxs)(Me.a,{className:t.root,children:[Object(F.jsx)(Ye.a,{title:"Balance"}),Object(F.jsx)(ze.a,{disableSpacing:!0,children:Object(F.jsx)(Ee.a,{className:Object(Ge.a)(t.expand,Object(xe.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more",children:Object(F.jsx)(Je.a,{})})}),Object(F.jsx)(He.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(F.jsx)(Ve.a,{children:Object(F.jsx)("div",{style:{padding:"20px"},children:Object(F.jsx)(Z.a,{keyField:"id",data:d,columns:[{dataField:"card_number",text:"Card Number"},{dataField:"balance",text:"Balance"}]})})})})]})})}var Qe=Object(p.a)((function(e){return{root:{maxWidth:"90%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]}}}));function Ze(e){var t=Qe(),a=c.a.useState(!1),r=Object(b.a)(a,2),o=r[0],s=r[1],i=c.a.useState([]),l=Object(b.a)(i,2),d=l[0],u=l[1],j=c.a.useState(!1),m=Object(b.a)(j,2),h=m[0],p=m[1],x=c.a.useState(""),O=Object(b.a)(x,2),g=O[0],f=O[1],v=c.a.useState([]),y=Object(b.a)(v,2),C=y[0],_=y[1];Object(n.useEffect)((function(){_(e.userCardsList)}),[e.userCardsList]),Object(n.useEffect)((function(){""!==g&&W.a.DigitalWallet.get_balance({action:"get_history",user_id:65,card_id:g.id}).then((function(e){console.log(e.data),e&&e.data&&u(e.data.data)})).catch((function(e){404===e.status?w.b.info("No Transaction Made"):w.b.error("Something Went Wrong!")}))}),[g]);var S=[{dataField:"amount",text:"Amount"},{dataField:"status",text:"status",formatter:function(e,t){return"Debit"===t.status?Object(F.jsx)("span",{children:"Debited To"}):Object(F.jsx)("span",{children:"Credited From"})}},{dataField:"source",text:"source"},{dataField:"created_at",text:"Date Time"}];return Object(F.jsx)(c.a.Fragment,{children:Object(F.jsxs)(Me.a,{className:t.root,children:[Object(F.jsx)(Ye.a,{title:"History"}),Object(F.jsx)(ze.a,{disableSpacing:!0,children:Object(F.jsx)(Ee.a,{className:Object(Ge.a)(t.expand,Object(xe.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more",children:Object(F.jsx)(Je.a,{})})}),Object(F.jsx)(He.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(F.jsx)(Ve.a,{children:Object(F.jsxs)("div",{style:{padding:"20px"},children:[Object(F.jsx)("div",{children:Object(F.jsxs)(L.a,{className:t.formControl,style:{width:"50%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label1",children:"Select Your Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label1",id:"demo-controlled-open-select1",open:h,onClose:function(){p(!1)},onOpen:function(){p(!0)},value:g,onChange:function(e){f(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Your Card"}),ue(C)&&C.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{children:Object(F.jsx)(Z.a,{keyField:"id",data:d,columns:S,bordered:!1,striped:!0,hover:!0,condensed:!0})})]})})})]})})}var et=a(390),tt=a(112),at=a.n(tt),nt=(a(329),Object(p.a)((function(e){return{root:{maxWidth:"90%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]},buttonroot:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2,4,3)},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",bottom:"50%",width:"50%",height:"50%"},input:{borderRadius:"0px",height:"34px"}}})));function ct(e){var t=nt(),a=c.a.useState(!1),r=Object(b.a)(a,2),o=r[0],s=r[1],i=c.a.useState(""),l=Object(b.a)(i,2),d=l[0],u=l[1],j=c.a.useState([]),m=Object(b.a)(j,2),h=m[0],p=m[1],x=c.a.useState(""),O=Object(b.a)(x,2),g=O[0],y=O[1],C=c.a.useState([]),_=Object(b.a)(C,2),S=_[0],k=_[1],N=c.a.useState(!1),D=Object(b.a)(N,2),T=D[0],I=D[1],A=c.a.useState(!1),P=Object(b.a)(A,2),E=P[0],R=P[1],q=c.a.useState(0),G=Object(b.a)(q,2),M=G[0],Y=G[1];Object(n.useEffect)((function(){k(e.customerCardsList),p(e.userCardsList)}),[e]);var V=function(){s(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(Me.a,{className:t.root,children:Object(F.jsx)(Ye.a,{style:{width:"90%"},action:Object(F.jsx)("div",{className:t.buttonroot,children:Object(F.jsx)(et.a,{color:"primary","aria-label":"add",children:Object(F.jsx)(at.a,{onClick:function(){console.log("dsff"),s(!0)}})})}),title:"Transfer Money"})}),Object(F.jsx)(re.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,onClose:V,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500},children:Object(F.jsx)(se.a,{in:o,children:Object(F.jsxs)("div",{className:t.paper,style:{display:"inline-table"},children:[Object(F.jsx)("h2",{id:"transition-modal-title",children:"Transfer Money to Customer"}),Object(F.jsx)("br",{}),Object(F.jsxs)(B.a,{xxs:"2",children:[Object(F.jsx)(U.a,{xs:"12",md:"6",children:Object(F.jsxs)(L.a,{className:t.formControl,style:{width:"100%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label1",className:"label",children:"Select Your Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label1",id:"demo-controlled-open-select1",open:E,onClose:function(){R(!1)},onOpen:function(){R(!0)},value:d,onChange:function(e){u(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Gift Card",children:Object(F.jsx)("em",{children:"None"})}),ue(h)&&h.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})}),Object(F.jsx)(U.a,{xs:"12",md:"6",children:Object(F.jsxs)(L.a,{className:t.formControl,style:{width:"100%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label2",children:"To Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label2",id:"demo-controlled-open-select2",open:T,onClose:function(){I(!1)},onOpen:function(){I(!0)},value:g,onChange:function(e){y(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Gift Card",children:Object(F.jsx)("em",{children:"None"})}),console.log(S),ue(S)&&S.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})})]}),Object(F.jsx)("br",{}),Object(F.jsxs)(B.a,{style:{alignItems:"center"},xs:"2",children:[Object(F.jsx)(U.a,{xs:"12",md:"6",children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Amount",id:"amount",autoComplete:"amount",value:M,onChange:function(e){Y(e.target.value)},InputProps:{className:t.input}})}),Object(F.jsx)(U.a,{xs:"12",md:"6",children:Object(F.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){if(d&&g){var t={action:"from_customer",from_card_id:d.id,to_card_id:g.id,amount_to_be_transferred:M};console.log(t),W.a.DigitalWallet.transfer_money(t).then((function(t){t&&t.data&&"Success"===t.data.msg?(console.log(t),e.setUpdateBalance(!0),w.b.success("Money Transferred Succesfully"),V()):w.b.success(t.data.msg)})).catch((function(e){405===e.status?w.b.error("User Not verified To make Transaction, Please Verify"):w.b.error("Permission Denied")}))}else w.b.error("Please Select Gift Card")},children:"Transfer"})})]})]})})})]})}var rt=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(b.a)(d,2),m=u[0],h=u[1],p=Object(n.useState)([]),x=Object(b.a)(p,2),O=x[0],g=x[1],f=Object(n.useState)([]),v=Object(b.a)(f,2),y=v[0],C=v[1],_=Object(n.useState)(!1),S=Object(b.a)(_,2),k=S[0],N=S[1],D=Object(n.useState)(!1),T=Object(b.a)(D,2),I=T[0],L=T[1];return console.log(m),Object(n.useEffect)((function(){console.log(a);var e=W.a.DigitalWallet.get_balance({action:"get_balance",user_id:65});e.then((function(e){console.log(e.data),e&&e.data&&l(e.data.data)})).catch((function(e){403===e.status&&(w.b.error("Permission Denied"),N(!0))})),e.error&&console.log("sf")}),[a]),Object(n.useEffect)((function(){W.a.DigitalWallet.get_cards({action:"get_users_cards",userid:65}).then((function(e){console.log(e.data.data),e&&e.data&&(console.log(e.data),g(e.data.data))})).catch((function(e){N(!0),w.b.error("permission Denied")})),W.a.DigitalWallet.get_cards({action:"get_other_users_cards",userid:65}).then((function(e){console.log(e.data),e&&e.data&&(console.log(e.data.customers),C(e.data.customers),L(!0))})).catch((function(e){N(!0),w.b.error("permission Denied")}))}),[]),k?Object(F.jsx)(j.a,{to:"/"}):Object(F.jsx)(c.a.Fragment,{children:Object(F.jsxs)("div",{style:{background:"linear-gradient(45deg, black, transparent)",height:"100%"},children:[Object(F.jsx)("div",{style:{paddingLeft:"8%"},children:i.length>0&&Object(F.jsx)($e,{balance:i})}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{style:{paddingLeft:"8%"},children:Object(F.jsx)(ct,{customerCardsList:y,userCardsList:O,setUpdateBalance:r,setBalance:h})}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{style:{paddingLeft:"8%"},children:I&&Object(F.jsx)(Ze,{userCardsList:O})})]})})},ot=(a(330),Object(p.a)((function(e){return{root:{maxWidth:"90%",display:"contents"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]},buttonroot:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2,4,3)},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})));function st(e){var t=ot(),a=c.a.useState(!1),n=Object(b.a)(a,2),r=n[0],o=n[1],s=c.a.useState(""),i=Object(b.a)(s,2),l=i[0],d=i[1],u=function(){o(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(Me.a,{className:t.root,children:Object(F.jsx)(Ye.a,{style:{width:"90%"},action:Object(F.jsx)("div",{className:t.buttonroot,children:Object(F.jsx)(et.a,{color:"primary","aria-label":"add",children:Object(F.jsx)(at.a,{onClick:function(){console.log("dsff"),o(!0)}})})}),title:"Devices"})}),Object(F.jsx)(re.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:r,onClose:u,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500},children:Object(F.jsx)(se.a,{in:r,children:Object(F.jsxs)("div",{className:t.paper,children:[Object(F.jsx)("h2",{id:"transition-modal-title",children:"Add Device"}),Object(F.jsxs)("div",{style:{alignItems:"center"},children:[Object(F.jsx)("div",{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"name",label:"Device Name",type:"name",id:"name",autoComplete:"name",value:l,onChange:function(e){d(e.target.value)}})}),Object(F.jsx)("div",{children:Object(F.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){(console.log("clickedd",l),l)?(console.log(l),W.a.DigitalWallet.create_device({device_name:l}).then((function(t){console.log(t),(t||t.data)&&(console.log(e),w.b.success("Device added Succesfully")),u()})).catch((function(e){405===e.status?w.b.error("User Not verified To add A device, Please Verify"):w.b.error("Something Went Wrong")})),console.log(e)):w.b.error("Device Name is Empty")},children:"Add"})})]})]})})})]})}var it=Object(p.a)((function(e){return{root:{maxWidth:"90%",display:"contents"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:me.a[500]},buttonroot:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2,4,3)},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",bottom:"50%",width:"50%",height:"50%"}}})),lt=function(e){var t=it(),a=c.a.useState([]),r=Object(b.a)(a,2),o=r[0],s=r[1],i=c.a.useState([]),l=Object(b.a)(i,2),d=l[0],u=l[1],j=c.a.useState([]),m=Object(b.a)(j,2),h=m[0],p=m[1],x=c.a.useState(""),O=Object(b.a)(x,2),g=O[0],y=O[1],C=c.a.useState([]),_=Object(b.a)(C,2),S=_[0],k=_[1],N=c.a.useState(!1),D=Object(b.a)(N,2),T=D[0],I=D[1],A=c.a.useState(!1),P=Object(b.a)(A,2),E=P[0],R=P[1],q=c.a.useState(0),G=Object(b.a)(q,2),M=G[0],Y=G[1];Object(n.useEffect)((function(){console.log("props.deviceList",e.deviceList,e),s(e.deviceList)}),[e]),Object(n.useEffect)((function(){T&&W.a.DigitalWallet.get_cards({action:"get_users_cards_for_refund",userid:65}).then((function(e){console.log(e.data),e&&e.data&&(console.log(e.data.customers),k(e.data.customers))})).catch((function(e){403===e.status?w.b.error("Permission Deniesd"):w.b.error("Something Went Wrong")}))}),[T]);var V=function(){I(!1)};var z=[{dataField:"name",text:"Device Name"},{dataField:"active",text:"Status",headerClasses:"text-10 align-middle",classes:"align-middle text-10 py-2",formatter:function(e,t){var a=t.active;return Object(F.jsx)(Ce,{status:a,component:"device"})}},{dataField:"",text:"Action",classes:"border-left text-center align-middle",headerClasses:"text-10 text-primary text-center",formatter:function(t,a,n){n.id;return Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(te.a,{color:"link",size:"sm",className:"text-600 btn-reveal",children:Object(F.jsx)(ce.a,{})}),Object(F.jsxs)(ae.a,{right:!0,className:"border p-0",children:[Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){console.log("hiu"),function(e){p(e.card),u(e.id),I(!0)}(a)},children:"Refund Money"}),0!==a.api_keys.length?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){var t;console.log("hiu"),t=a.id,console.log("deactivatee",t),t&&W.a.DigitalWallet.create_device_key({device_id:t}).then((function(t){console.log(t.data),(t||t.data)&&(e.setUpdate(!0),console.log(t.data.data),w.b.success("Key generated Successfully "+t.data.data))})).catch((function(e){w.b.error("Something Went Wrong!")}))},children:"Generate Key"}),a.active?Object(F.jsx)(ne.a,{className:"text-10",onClick:function(){var t;console.log("hiu"),t=a.id,console.log("deactivatee",t),t&&W.a.DigitalWallet.deactivate_device({id:t}).then((function(t){console.log(t.data),(t||t.data)&&(e.setUpdate(!0),w.b.success("Deactivated Successfully"))})).catch((function(e){w.b.error("Something Went Wrong!")}))},children:"Deactivate"}):Object(F.jsx)(F.Fragment,{})]})]})},csvExport:!1}];return Object(F.jsxs)("div",{style:{padding:"20px"},children:[Object(F.jsx)("div",{children:Object(F.jsx)(st,{setUpadte:e.setUpdate})}),Object(F.jsx)(Z.a,{keyField:"id",data:o,columns:z}),Object(F.jsx)(re.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:T,onClose:V,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500},children:Object(F.jsx)(se.a,{in:T,children:Object(F.jsxs)("div",{className:t.paper,style:{display:"inline-table"},children:[Object(F.jsx)("h2",{id:"transition-modal-title",children:"Transfer Money to Customer"}),Object(F.jsx)("br",{}),Object(F.jsx)(B.a,{children:Object(F.jsx)(U.a,{children:Object(F.jsxs)(L.a,{className:t.formControl,style:{width:"50%"},children:[Object(F.jsx)(ie.a,{id:"demo-controlled-open-select-label2",children:"To Card"}),Object(F.jsxs)(de.a,{labelId:"demo-controlled-open-select-label2",id:"demo-controlled-open-select2",open:E,onClose:function(){R(!1)},onOpen:function(){R(!0)},value:g,onChange:function(e){y(e.target.value)},children:[Object(F.jsx)(le.a,{value:"Select Gift Card",children:Object(F.jsx)("em",{children:"None"})}),console.log(S),ue(S)&&S.map((function(e,t){return Object(F.jsx)("option",{value:e,children:e.card_number},t)}))]})]})})}),Object(F.jsx)("br",{}),Object(F.jsxs)(B.a,{style:{alignItems:"center"},children:[Object(F.jsx)(U.a,{children:Object(F.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Amount",id:"amount",autoComplete:"amount",value:M,onChange:function(e){Y(e.target.value)}})}),Object(F.jsx)(U.a,{children:Object(F.jsx)(v.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){if(g&&h&&d){var e={action:"from_device",device_id:d,from_card_id:h,to_card_id:g.id,amount_to_be_transferred:M};console.log(e),W.a.DigitalWallet.transfer_money(e).then((function(e){e&&e.data&&"Success"===e.data.msg?(console.log(e),w.b.success("Money added Succesfully"),V()):w.b.success(e.data.msg)})).catch((function(e){w.b.error("Something Went Wrong")}))}else w.b.error("Please Select Card")},children:"Transfer"})})]})]})})})]})},dt=["children","value","index"];function ut(e){var t=e.children,a=e.value,n=e.index,c=Object(X.a)(e,dt);return Object(F.jsx)("div",Object(H.a)(Object(H.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:a===n&&Object(F.jsx)(C.a,{p:3,children:Object(F.jsx)(m.a,{children:t})})}))}var jt=Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function bt(){var e,t=jt(),a=c.a.useState(0),r=Object(b.a)(a,2),o=r[0],s=r[1],i=c.a.useState([]),l=Object(b.a)(i,2),d=l[0],u=l[1],j=c.a.useState(!1),m=Object(b.a)(j,2),h=m[0],p=m[1];return Object(n.useEffect)((function(){W.a.DigitalWallet.get_devices().then((function(e){console.log(e.data),e&&e.data&&u(e.data.data)})).catch((function(e){console.log(e.status),405!==e.status&&403!==e.status||w.b.error("Permission Denied")}))}),[h]),Object(F.jsxs)("div",{className:t.root,children:[Object(F.jsx)(J.a,{position:"static",children:Object(F.jsx)(K.a,{value:o,onChange:function(e,t){s(t)},"aria-label":"simple tabs example",children:Object(F.jsx)($.a,Object(H.a)({label:"Devices"},(e=0,{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)})))})}),Object(F.jsx)(ut,{value:o,index:0,children:d&&Object(F.jsx)(lt,{deviceList:d,setUpdate:p})})]})}function mt(){var e=c.a.useState(null),t=Object(b.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user_type");r(e)}),[a]),Object(F.jsx)(c.a.Fragment,{children:Object(F.jsxs)("div",{style:{height:"100%"},children:["admin"===a?Object(F.jsx)(Ae,{}):Object(F.jsx)(F.Fragment,{}),"customer"===a?Object(F.jsx)(rt,{}):Object(F.jsx)(F.Fragment,{}),"owner"===a?Object(F.jsx)(bt,{}):Object(F.jsx)(F.Fragment,{})]})})}var ht=a(391),pt=a(199),xt=Object(p.a)({root:{maxWidth:345,background:"linear-gradient(to right, #0F2027, #203A43, #2C5364)",borderRadius:20}});function Ot(){var e=xt();return Object(F.jsx)("div",{style:{padding:"24px"},children:Object(F.jsxs)(Me.a,{className:e.root,style:{background:"linear-gradient(to right, #0F2027, #203A43, #2C5364)"},children:[Object(F.jsx)(Ye.a,{avatar:Object(F.jsx)(g.a,{"aria-label":"recipe",className:e.avatar,children:"M"}),action:Object(F.jsx)(Ee.a,{"aria-label":"settings"}),title:"Wallet"}),Object(F.jsx)(ht.a,{children:Object(F.jsxs)(Ve.a,{children:[Object(F.jsx)("div",{style:{float:"right"},children:Object(F.jsx)(pt.a,{})}),Object(F.jsx)(m.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Mansi Chauhan"}),Object(F.jsx)(m.a,{variant:"body2",color:"textSecondary",component:"p",style:{color:"silver"},children:"Card No: 2343-2323-3232-3232"})]})}),Object(F.jsx)(ze.a,{})]})})}var gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),console.log("?????????"),n}return Object(i.a)(a,[{key:"render",value:function(){console.log(localStorage.getItem("is_admin"));var e="admin"===localStorage.getItem("user_type")?Ae:"owner"===localStorage.getItem("user_type")?bt:rt;return console.log("compcomp",e),Object(F.jsx)(u.a,{children:Object(F.jsxs)("div",{style:{height:"100%"},children:[Object(F.jsx)(qe,{}),Object(F.jsxs)(j.d,{children:[Object(F.jsx)(j.b,{exact:!0,path:"/",component:I}),Object(F.jsx)(j.b,{path:"/dashboard",component:mt}),Object(F.jsx)(j.b,{path:"/signup",component:M}),Object(F.jsx)(j.b,{path:"/verifyotp",component:z}),Object(F.jsx)(j.b,{path:"/customer",component:rt}),Object(F.jsx)(j.b,{path:"/retailer",component:bt}),Object(F.jsx)(j.b,{path:"/card",component:Ot})]}),Object(F.jsx)(w.a,{})]})})}}]),a}(n.Component),ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,406)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(F.jsx)(c.a.Fragment,{children:Object(F.jsx)(gt,{})}),document.getElementById("root")),ft()}},[[331,1,2]]]);
//# sourceMappingURL=main.b2b61d76.chunk.js.map